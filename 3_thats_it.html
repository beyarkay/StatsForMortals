<!DOCTYPE html>
<meta charset="utf-8">
<head>
    <title>That's it</title>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
    <link rel="stylesheet"
          href="https://unpkg.com/purecss@2.0.3/build/pure-min.css"
          integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ"
          crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/grids-responsive-min.css">
    <link rel="stylesheet" href="styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>


<div class="pure-g">
    <div class="pure-u-1-5">
        <a class="pure-button button-xsmall" href="2_what_next.html">Back</a>
    </div>
    <div class="pure-u-3-5">
        <div class="page-count">Page 4 of 4</div>
    </div>
    <div class="pure-u-1-5">
        <a class="pure-button button-xsmall pure-button-disabled" href="">Next</a>
    </div>
</div>

<div class="pure-g">
    <div class="pure-u-1-1">
        <h2>That's it</h2>
        <ul>
            <li>We started out with just \(k^x\)
                \[f(x) = k^x\]
                <div id="plot_pow_k_x"></div>
            </li>
            <li>Then realised \(k^{x^2}\) gave us a nice smooth hill shape
                \[f(x) = k^{x^2}\]
                <div id="plot_pow_x_2"></div>
            </li>
            <li>And that using \(e\) would make the maths easier:
                \[f(x) = e^{x^2}\]
                <div id="plot_exp_pow_x_2"></div>
            </li>
            <li>Then we dove into the maths, trying to find \(a\) and \(b\)
                in \(a \cdot e^{b \cdot x^2}\)
                \[f(x) = a \cdot e^{b \cdot x^2}\]
                <div id="plot_a_b"></div>
            </li>
            <li>We found that \(a = \frac 1 {\sqrt{2\pi}} \approx 0.3989\)
                <div id="plot_change_a"></div>
            </li>
            <li>And later that \(b = -\frac 1 2\)
                <div id="plot_change_b"></div>
            </li>
            <li>Putting it all together, we arrived at the standard normal distribution:
                \[f(x) = \frac 1 {\sqrt{2 \pi}} e^{-\frac 1 2 x^2}\]
                <div id="std_norm_area"></div>
            </li>
        </ul>
    </div>
</div>
<div class="pure-g">
    <div class="pure-u-1-1">
        <center>
            <!-- Sharingbutton WhatsApp -->
            <a class="resp-sharing-button__link"
               href="whatsapp://send?text=The%20Standard%20Normal%20Distribution%2C%20explained%20intuitively%3A%20https%3A%2F%2Fpeople.cs.uct.ac.za%2F~KNXBOY001%2FStatsForMortals%2F0_intro.html"
               target="_blank" rel="noopener" aria-label="WhatsApp">
                <div class="resp-sharing-button resp-sharing-button--whatsapp resp-sharing-button--medium">
                    <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path d="M20.1 3.9C17.9 1.7 15 .5 12 .5 5.8.5.7 5.6.7 11.9c0 2 .5 3.9 1.5 5.6L.6 23.4l6-1.6c1.6.9 3.5 1.3 5.4 1.3 6.3 0 11.4-5.1 11.4-11.4-.1-2.8-1.2-5.7-3.3-7.8zM12 21.4c-1.7 0-3.3-.5-4.8-1.3l-.4-.2-3.5 1 1-3.4L4 17c-1-1.5-1.4-3.2-1.4-5.1 0-5.2 4.2-9.4 9.4-9.4 2.5 0 4.9 1 6.7 2.8 1.8 1.8 2.8 4.2 2.8 6.7-.1 5.2-4.3 9.4-9.5 9.4zm5.1-7.1c-.3-.1-1.7-.9-1.9-1-.3-.1-.5-.1-.7.1-.2.3-.8 1-.9 1.1-.2.2-.3.2-.6.1s-1.2-.5-2.3-1.4c-.9-.8-1.4-1.7-1.6-2-.2-.3 0-.5.1-.6s.3-.3.4-.5c.2-.1.3-.3.4-.5.1-.2 0-.4 0-.5C10 9 9.3 7.6 9 7c-.1-.4-.4-.3-.5-.3h-.6s-.4.1-.7.3c-.3.3-1 1-1 2.4s1 2.8 1.1 3c.1.2 2 3.1 4.9 4.3.7.3 1.2.5 1.6.6.7.2 1.3.2 1.8.1.6-.1 1.7-.7 1.9-1.3.2-.7.2-1.2.2-1.3-.1-.3-.3-.4-.6-.5z"/>
                        </svg>
                    </div>
                    Share on WhatsApp
                </div>
            </a>
        </center>
    </div>
</div>
<div class="pure-g">
    <div class="pure-u-1-5">
        <a class="pure-button button-xsmall" href="2_what_next.html">Back</a>
    </div>
    <div class="pure-u-3-5">
        <div class="page-count">Page 4 of 4</div>
    </div>
    <div class="pure-u-1-5">
        <a class="pure-button button-xsmall" href="4_feedback.html">Feedback</a>
    </div>
</div>
<script type="module">

    import {buildGraph} from "./script.js";
    //plot_pow_k_x
    buildGraph(
        // div_id
        'plot_pow_k_x',

        // graph_params
        {
            xDomain: [-3, 3],
            yDomain: [0, 2],
            step: 0.01
        },

        // inputs
        [
            // slider for k in e ^{k * |x|}
            {
                key: 'k',
                type: 'range',
                min: 0.1,
                max: 5,
                step: 0.01,
                value: 2.7,
                label: 'k = ',
                color: 'teal',
            }, // Use abs(x) instead of x
            {
                key: 'show_normal',
                type: 'checkbox',
                checked: true,
                label: 'Show the standard normal curve',
                color: 'firebrick',
            }
        ],
        // function_params
        [
            {
                key: 'k_to_the_x',
                func: (x, params) => {
                    // if ('plot' + '_' + 'use_abs' in params && params['plot' + '_' + 'use_abs']) {
                    //     x = Math.abs(x);
                    // }
                    return Math.pow(params['plot_pow_k_x' + '_' + 'k'], x);
                },
                calcOpacity: (params) => {
                    return 1;
                },
                color: 'teal',
                label: ''
            }, {
            key: 'std_norm',
            func: (x, params) => {
                let mu = 0;
                let sigma = 1;
                return Math.exp((-0.5 * Math.pow((x - mu) / sigma, 2))) / (sigma * Math.sqrt(2 * Math.PI));
            },
            calcOpacity: (params) => {
                if ('plot_pow_k_x' + '_' + 'show_normal' in params && params['plot_pow_k_x' + '_' + 'show_normal']) {
                    return 1;
                } else {
                    return 0;
                }
            },
            color: 'firebrick',
            label: ''
        },
        ]
    );

    //plot_pow_x_2
    buildGraph(
        // div_id
        'plot_pow_x_2',

        // graph_params
        {
            xDomain: [-3, 3],
            yDomain: [0, 2],
            step: 0.01
        },

        // inputs
        [
            {
                key: 'k',
                type: 'range',
                min: 0.1,
                max: 2,
                step: 0.01,
                value: 2.7,
                label: 'k = ',
                color: 'teal',
            }, // Use abs(x) instead of x
            {
                key: 'show_normal',
                type: 'checkbox',
                checked: true,
                label: 'Show the standard normal curve',
                color: 'firebrick',
            }
        ],
        // function_params
        [
            {
                key: 'pow_x_2',
                func: (x, params) => {
                    return Math.pow(params['plot_pow_x_2' + '_' + 'k'], Math.pow(x, 2));
                    // return params['plot_pow_x_2' + '_' + 'k'] * Math.exp( Math.abs(x));
                },
                calcOpacity: (params) => {
                    return 1;
                },
                color: 'teal',
                label: ''
            },
            {
                key: 'std_norm',
                func: (x, params) => {
                    let mu = 0;
                    let sigma = 1;
                    return Math.exp((-0.5 * Math.pow((x - mu) / sigma, 2))) / (sigma * Math.sqrt(2 * Math.PI));
                },
                calcOpacity: (params) => {
                    if ('plot_pow_x_2' + '_' + 'show_normal' in params && params['plot_pow_x_2' + '_' + 'show_normal']) {
                        return 1;
                    } else {
                        return 0;
                    }
                },
                color: 'firebrick',
                label: ''
            },
        ]
    );

    //plot_exp_pow_x_2
    buildGraph(
        // div_id
        'plot_exp_pow_x_2',

        // graph_params
        {
            xDomain: [-3, 3],
            yDomain: [0, 2],
            step: 0.01
        },

        // inputs
        [
            // {
            //     key: 'k',
            //     type: 'range',
            //     min: 0.1,
            //     max: 2,
            //     step: 0.01,
            //     value: 2.7,
            //     label: 'k = ',
            //     color: 'teal',
            // }, // Use abs(x) instead of x
            {
                key: 'show_normal',
                type: 'checkbox',
                checked: true,
                label: 'Show the standard normal curve',
                color: 'firebrick',
            }
        ],
        // function_params
        [
            {
                key: 'pow_x_2',
                func: (x, params) => {
                    return Math.exp(-Math.pow(x, 2));
                },
                calcOpacity: (params) => {
                    return 1;
                },
                color: 'teal',
                label: ''
            },
            {
                key: 'std_norm',
                func: (x, params) => {
                    let mu = 0;
                    let sigma = 1;
                    return Math.exp((-0.5 * Math.pow((x - mu) / sigma, 2))) / (sigma * Math.sqrt(2 * Math.PI));
                },
                calcOpacity: (params) => {
                    if ('plot_exp_pow_x_2' + '_' + 'show_normal' in params && params['plot_exp_pow_x_2' + '_' + 'show_normal']) {
                        return 1;
                    } else {
                        return 0;
                    }
                },
                color: 'firebrick',
                label: ''
            },
        ]
    );

    //plot_a_b
    buildGraph(
        // div_id
        'plot_a_b',

        // graph_params
        {
            xDomain: [-3, 3],
            yDomain: [0, 2],
            step: 0.01
        },

        // inputs
        [
            // slider for k in e ^{k * |x|}
            {
                key: 'a',
                type: 'range',
                min: 0,
                max: 2,
                step: 0.05,
                value: 1,
                label: 'a = '
            }, {
            key: 'b',
            type: 'range',
            min: -3,
            max: 0,
            step: 0.05,
            value: -1,
            label: 'b = '
        }, {
            key: 'show_normal',
            type: 'checkbox',
            checked: true,
            label: 'Show the standard normal curve',
            color: 'firebrick',
        }
        ],
        // function_params
        [
            {
                key: 'a_b',
                func: (x, params) => {
                    let a = params['plot_a_b' + '_' + 'a'];
                    let b = params['plot_a_b' + '_' + 'b'];
                    return a * Math.exp(b * Math.pow(x, 2));
                },
                calcOpacity: (params) => {
                    return 1;
                    // if (div_id + '_' + 'show' in params && params[div_id + '_' + 'show']) {
                    //     return 1;
                    // } else {
                    //     return 0;
                    // }
                },
                color: 'teal',
                label: '',
                plot_var: true
            }, {
            key: 'std_norm',
            func: (x, params) => {
                let mu = 0;
                let sigma = 1;
                return Math.exp((-0.5 * Math.pow((x - mu) / sigma, 2))) / (sigma * Math.sqrt(2 * Math.PI));
            },
            calcOpacity: (params) => {
                if ('plot_a_b' + '_' + 'show_normal' in params && params['plot_a_b' + '_' + 'show_normal']) {
                    return 1;
                } else {
                    return 0;
                }
            },
            color: 'firebrick',
            label: ''
        },
        ]
    );

    //plot_change_a
    buildGraph(
        // div_id
        'plot_change_a',

        // graph_params
        {
            xDomain: [-3, 3],
            yDomain: [0, 1],
            step: 0.01
        },

        // inputs
        [
            {
                key: 'a',
                type: 'range',
                min: 0.2,
                max: 0.6,
                step: 0.005,
                value: 0.5,
                label: 'a = '
            }, // Use abs(x) instead of x
            {
                key: 'show_normal',
                type: 'checkbox',
                checked: true,
                label: 'Show the standard normal curve',
                color: 'firebrick',
            }
        ],
        // function_params
        [
            {
                key: 'change_a',
                func: (x, params) => {
                    let a = params['plot_change_a' + '_' + 'a'];
                    // let b = params['plot_change_a' + '_' + 'b'];
                    return a * Math.exp(-0.5 * Math.pow(x, 2));
                },
                calcOpacity: (params) => {
                    return 1;
                },
                color: 'teal',
                fill: 'rgba(0, 128, 128, 0.4)',
                label: '',
                plot_var: true
            }, {
            key: 'std_norm',
            func: (x, params) => {
                let mu = 0;
                let sigma = 1;
                return Math.exp((-0.5 * Math.pow((x - mu) / sigma, 2))) / (sigma * Math.sqrt(2 * Math.PI));
            },
            calcOpacity: (params) => {
                if ('plot_change_a' + '_' + 'show_normal' in params && params['plot_change_a' + '_' + 'show_normal']) {
                    return 1;
                } else {
                    return 0;
                }
            },
            color: 'firebrick',
            label: ''
        },
        ]
    );

    //plot_change_b
    buildGraph(
        // div_id
        'plot_change_b',

        // graph_params
        {
            xDomain: [-3, 3],
            yDomain: [0, 1],
            step: 0.01
        },

        // inputs
        [
            // {
            //     key: 'a',
            //     type: 'range',
            //     min: 0.05,
            //     max: 2,
            //     step: 0.05,
            //     value: 1,
            //     label: 'a = '
            // },
            {
                key: 'b',
                type: 'range',
                min: -3,
                max: -0.15,
                step: 0.001,
                value: -1,
                label: 'b = '
            }, // Use abs(x) instead of x
            {
                key: 'show_normal',
                type: 'checkbox',
                checked: true,
                label: 'Show the standard normal curve',
                color: 'firebrick',
            }
        ],
        // function_params
        [
            {
                key: 'change_b',
                func: (x, params) => {
                    // let a = params['plot_change_b' + '_' + 'a'];
                    let b = params['plot_change_b' + '_' + 'b'];
                    let quotient = Math.sqrt(2 * Math.PI);

                    return Math.exp(b * Math.pow(x, 2)) / quotient;
                },
                calcOpacity: (params) => {
                    return 1;
                },
                color: 'teal',
                label: '',
                plot_var: true
            }, {
            key: 'std_norm',
            func: (x, params) => {
                let mu = 0;
                let sigma = 1;
                return Math.exp((-0.5 * Math.pow((x - mu) / sigma, 2))) / (sigma * Math.sqrt(2 * Math.PI));
            },
            calcOpacity: (params) => {
                if ('plot_change_b' + '_' + 'show_normal' in params && params['plot_change_b' + '_' + 'show_normal']) {
                    return 1;
                } else {
                    return 0;
                }
            },
            color: 'firebrick',
            label: ''
        },
        ]
    );

    //std_norm_area
    buildGraph(
        // div_id
        'std_norm_area',

        // graph_params
        {
            xDomain: [-3, 3],
            yDomain: [0, 1],
            step: 0.01
        },

        // inputs
        [],
        // function_params
        [
            {
                key: 'std_norm_area',
                func: (x, params) => {
                    let mu = 0;
                    let sigma = 1;
                    return Math.exp((-0.5 * Math.pow((x - mu) / sigma, 2))) / (sigma * Math.sqrt(2 * Math.PI));
                },
                calcOpacity: (params) => {
                    return 1;
                },
                color: 'teal',
                fill: 'rgba(0, 128, 128, 0.4)',
                label: ''
            }
        ]
    );


</script>
</body>